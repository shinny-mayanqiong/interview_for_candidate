# 备选题目一: 可配置的多策略价差监控平台

---

## 1. 背景

在量化交易中, **价差 (Spread)** 是指两个或多个相关金融工具之间的价格差异. 交易员通过监控价差的变化来寻找潜在的套利机会. 例如, 监控同一商品但不同交割月份的期货合约 (如螺纹钢的 rb2410 和 rb2501), 当它们的价差偏离历史正常范围时, 就可能存在交易机会.

团队需要构建一个专业的**Web应用平台**, 用于 7x24 小时监控多组价差策略. 平台需要允许用户通过界面动态配置监控策略, 并在策略被触发时, 不仅能通过 Webhook 通知外部系统, 还能在界面上展示历史触发记录.

## 2. 任务

你需要开发一个全栈的 Web 应用, 它由一个**前端管理界面**和一个**后端监控引擎**组成.

### 2.1 核心要求: 后端监控引擎

后端的核心是一个持续运行的服务, 负责执行监控逻辑.

- **动态配置:** 服务从持久化存储 (如数据库) 中加载策略. 当用户在前端更新策略时, 监控引擎应能相应地更新其监控行为.
- **可靠的信号触发:** 你需要自行设计一套机制来管理每个策略的触发逻辑 (包括信号过滤、重复抑制和状态重置).
- **Webhook 通知:** 当一个有效的交易机会被识别后, 服务需要通过 Webhook (HTTP POST) 将事件通知给策略中指定的 `webhook_url`.
- **历史记录:** 每次触发事件都必须被记录到持久化存储中.

### 2.2 核心要求: 前端管理界面

你需要为用户提供一个 Web 前端界面。**你可以使用任何你熟悉的前端框架（如 React, Vue, Svelte 等），甚至简单的 HTML/CSS/JavaScript 来实现。**

- **策略管理:**
    - 提供一个用户友好的表单, 用于**创建和编辑**价差监控策略.
    - 至少应包含: 策略名称、合约对、触发阈值、平仓阈值、Webhook URL.
- **触发历史:**
    - 提供一个专门的页面, 以列表或表格形式, 清晰地**展示所有历史触发记录**.
    - 至少应包含: 策略名称、触发时间、触发时的价差等关键信息.

### 2.3 核心要求: API

你需要自行设计一套 RESTful API 来连接前端界面和后端服务, 以实现策略的增删改查和历史记录的获取.

### 2.4 更进一步
- 你将如何设计你的数据库模型 (Schema) 来存储策略配置和触发历史?
- 如何保证信号触发核心逻辑的正确性？相关的测试代码是最好的说明。
- 服务必须能够健壮地处理外部依赖的故障 (如 `tqsdk` 断线、数据库连接失败、Webhook 发送失败等).
- 在 `README.md` 中阐述你的**系统架构设计** (前后端如何交互)、API 设计和 UI 设计思路.
